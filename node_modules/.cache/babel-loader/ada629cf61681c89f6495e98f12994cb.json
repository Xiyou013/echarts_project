{"ast":null,"code":"import dayjs from 'dayjs';\nimport { inject, nextTick, onMounted, reactive, ref } from 'vue';\nexport default {\n  __name: 'vehicleEcharts',\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    let echarts = inject('ec');\n    const colorList = ['#F1B164', '#05D2FC'];\n    let myChart;\n\n    const changeSize = val => {\n      let nowClientWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth; // console.log('nowClientWidth', nowClientWidth)\n\n      return val * (nowClientWidth / 1920);\n    };\n\n    const nowSize = val => {\n      //   console.log(val instanceof Array)\n      let data = '';\n      let arr = [];\n\n      if (typeof val === 'object') {\n        if (val instanceof Array) {\n          val.forEach(item => {\n            let size = changeSize(item);\n            arr.push(size);\n          });\n          data = arr;\n        }\n      } else {\n        data = changeSize(val);\n      } //   console.log('data::', data)\n\n\n      return data;\n    };\n\n    const getListData = data => {\n      data.forEach((item, index) => {\n        item.lineStyle = {\n          color: colorList[index],\n          width: 2\n        };\n        item.yAxisIndex = index;\n      });\n    };\n\n    let time = ref([{\n      data: [500, 800, 500, 200, 505, 700, 900, 700, 505, 600, 800, 905, 800, 700, 500, 40, 60, 75, 70, 60, 40, 35, 60, 20],\n      type: 'line',\n      smooth: true,\n      symbol: 'none',\n      name: '小车1' // 对准左侧y轴\n      // yAxisIndex: 0\n\n    }, {\n      data: [0, 20, 40, 58, 62, 50, 35, 55, 60, 70, 75, 65, 50, 40, 50, 70, 80, 95, 80, 60, 55, 70, 90, 70],\n      type: 'line',\n      smooth: true,\n      symbol: 'none',\n      name: '小车2' // 对准右侧y轴\n      // yAxisIndex: 1\n\n    }]);\n    const data = reactive({\n      options: {\n        // 图例设置\n        // legend: {},\n        // 在canvas中占据的大小\n        grid: {\n          left: '0%',\n          right: '0%',\n          top: '15%',\n          bottom: '3%',\n          containLabel: true\n        },\n        // 辅助线提示\n        // tooltip: {\n        //   trigger: 'axis'\n        // },\n        xAxis: {\n          type: 'category',\n          data: ['2022-08-10 01:00:00', '2022-08-10 02:00:00', '2022-08-10 03:00:00', '2022-08-10 04:00:00', '2022-08-10 05:00:00', '2022-08-10 06:00:00', '2022-08-10 07:00:00', '2022-08-10 08:00:00', '2022-08-10 09:00:00', '2022-08-10 10:00:00', '2022-08-10 11:00:00', '2022-08-10 12:00:00', '2022-08-10 13:00:00', '2022-08-10 14:00:00', '2022-08-10 15:00:00', '2022-08-10 16:00:00', '2022-08-10 17:00:00', '2022-08-10 18:00:00', '2022-08-10 19:00:00', '2022-08-10 20:00:00', '2022-08-10 21:00:00', '2022-08-10 22:00:00', '2022-08-10 23:00:00', '2022-08-10 00:00:00'],\n          axisLabel: {\n            // 坐标轴刻度标签的相关设置\n            show: true,\n            // 控制显隐\n            color: '#E4E9EB',\n            // x轴字体颜色\n            fontSize: nowSize(17),\n            //\n            margin: nowSize(15),\n            // x轴标签距离x轴距离\n            formatter: value => {\n              return dayjs(new Date(value)).format('HH:mm');\n            }\n          },\n          // x轴样式设置\n          axisLine: {\n            lineStyle: {\n              color: '#E4E9EB',\n              width: nowSize(2)\n            }\n          },\n          // x轴刻度线显隐\n          axisTick: {\n            show: false\n          }\n        },\n        yAxis: [// 左侧y轴\n        {\n          type: 'value',\n          name: '米/秒',\n          // 名称位置\n          nameLocation: 'end',\n          // 名称间隔\n          nameGap: nowSize(20),\n          // y轴名称样式设置\n          nameTextStyle: {\n            color: '#E4E9EB',\n            fontSize: nowSize(15),\n            padding: nowSize([0, 50, 0, 0])\n          },\n          axisLabel: {\n            // 坐标轴刻度标签的相关设置\n            show: true,\n            // 控制显隐\n            color: '#E4E9EB',\n            // y轴字体颜色\n            fontSize: nowSize(17),\n            margin: nowSize(15)\n          },\n          // y轴分割线样式设置\n          splitLine: {\n            show: true,\n            lineStyle: {\n              width: nowSize(2),\n              color: 'rgba(228, 233, 235, 0.1)'\n            }\n          }\n        }, // 右侧y轴\n        {\n          type: 'value',\n          name: 'hz',\n          // min: 0,\n          // max: 100,\n          // 名称位置\n          nameLocation: 'end',\n          // 名称间隔\n          nameGap: nowSize(20),\n          // y轴名称样式设置\n          nameTextStyle: {\n            color: '#E4E9EB',\n            fontSize: nowSize(17),\n            padding: nowSize([0, 0, 0, 50])\n          },\n          axisLabel: {\n            // 坐标轴刻度标签的相关设置\n            show: true,\n            // 控制显隐\n            color: '#E4E9EB',\n            // y轴字体颜色\n            fontSize: nowSize(17),\n            margin: nowSize(15)\n          },\n          // y轴分割线样式设置\n          splitLine: {\n            show: true,\n            lineStyle: {\n              width: nowSize(2),\n              color: 'rgba(228, 233, 235, 0.1)'\n            }\n          }\n        }],\n        // 相关数据\n        series: time.value\n      }\n    }); // 初始化折线图\n\n    const initChart = () => {\n      setTimeout(() => {\n        myChart = echarts.init(document.getElementById('vehicle2'));\n        myChart.setOption(data.options);\n      }, 2000);\n    }; // 监听更改折线图y轴有关数据\n\n\n    const changeyAxis = () => {\n      data.options.yAxis[0].axisLabel.fontSize = nowSize(17);\n      data.options.yAxis[1].axisLabel.fontSize = nowSize(17);\n      data.options.yAxis[0].axisLabel.margin = nowSize(15);\n      data.options.yAxis[1].axisLabel.margin = nowSize(15);\n      data.options.yAxis[0].nameTextStyle.fontSize = nowSize(15);\n      data.options.yAxis[1].nameTextStyle.fontSize = nowSize(17);\n      data.options.yAxis[0].nameTextStyle.padding = nowSize([0, 50, 0, 0]);\n      data.options.yAxis[1].nameTextStyle.padding = nowSize([0, 0, 0, 50]);\n      data.options.yAxis[0].nameGap = nowSize(20);\n      data.options.yAxis[1].nameGap = nowSize(20);\n      data.options.yAxis[0].splitLine.lineStyle.width = nowSize(2);\n      data.options.yAxis[1].splitLine.lineStyle.width = nowSize(2);\n    }; // 监听更改折线图x轴有关数据\n\n\n    const changexAxis = () => {\n      data.options.xAxis.axisLabel.fontSize = nowSize(17);\n      data.options.xAxis.axisLabel.margin = nowSize(15);\n      data.options.xAxis.axisLine.lineStyle.width = nowSize(2);\n    };\n\n    onMounted(() => {\n      getListData(time.value);\n      nextTick(() => {\n        initChart();\n      }); // initChart()\n    });\n\n    window.onresize = ec => {\n      // 监听窗口大小变化\n      // myChart.resize() // 自适应大小变化\n      // console.log('111111')\n      changeyAxis();\n      changexAxis();\n      myChart.setOption(data.options);\n      myChart.resize(); // 自适应大小变化\n\n      if (ec) return;\n    };\n\n    const __returned__ = {\n      echarts,\n      colorList,\n      myChart,\n      changeSize,\n      nowSize,\n      getListData,\n      time,\n      data,\n      initChart,\n      changeyAxis,\n      changexAxis,\n      dayjs,\n      inject,\n      nextTick,\n      onMounted,\n      reactive,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"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","names":["dayjs","inject","nextTick","onMounted","reactive","ref","echarts","colorList","myChart","changeSize","val","nowClientWidth","window","innerWidth","document","documentElement","clientWidth","body","nowSize","data","arr","Array","forEach","item","size","push","getListData","index","lineStyle","color","width","yAxisIndex","time","type","smooth","symbol","name","options","grid","left","right","top","bottom","containLabel","xAxis","axisLabel","show","fontSize","margin","formatter","value","Date","format","axisLine","axisTick","yAxis","nameLocation","nameGap","nameTextStyle","padding","splitLine","series","initChart","setTimeout","init","getElementById","setOption","changeyAxis","changexAxis","onresize","ec","resize"],"sources":["F:/hub-code/echarts_project/src/views/test/components/vehicleEcharts.vue"],"sourcesContent":["<template>\r\n    <div ref=\"vehicle1\" id=\"vehicle2\"></div>\r\n</template>\r\n\r\n<script setup>\r\nimport dayjs from 'dayjs'\r\nimport { inject, nextTick, onMounted, reactive, ref } from 'vue'\r\n\r\nlet echarts = inject('ec')\r\nconst colorList = ['#F1B164', '#05D2FC']\r\nlet myChart\r\n\r\nconst changeSize = (val) => {\r\n    let nowClientWidth =\r\n        window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth\r\n    // console.log('nowClientWidth', nowClientWidth)\r\n    return val * (nowClientWidth / 1920)\r\n}\r\n\r\nconst nowSize = (val) => {\r\n    //   console.log(val instanceof Array)\r\n    let data = ''\r\n    let arr = []\r\n    if (typeof val === 'object') {\r\n        if (val instanceof Array) {\r\n            val.forEach((item) => {\r\n                let size = changeSize(item)\r\n                arr.push(size)\r\n            })\r\n            data = arr\r\n        }\r\n    } else {\r\n        data = changeSize(val)\r\n    }\r\n    //   console.log('data::', data)\r\n    return data\r\n}\r\n\r\nconst getListData = (data) => {\r\n    data.forEach((item, index) => {\r\n        item.lineStyle = {\r\n            color: colorList[index],\r\n            width: 2\r\n        }\r\n        item.yAxisIndex = index\r\n    })\r\n}\r\n\r\nlet time = ref([\r\n    {\r\n        data: [\r\n            500, 800, 500, 200, 505, 700, 900, 700, 505, 600, 800, 905, 800, 700, 500, 40, 60, 75, 70, 60,\r\n            40, 35, 60, 20\r\n        ],\r\n        type: 'line',\r\n        smooth: true,\r\n        symbol: 'none',\r\n        name: '小车1'\r\n        // 对准左侧y轴\r\n        // yAxisIndex: 0\r\n    },\r\n    {\r\n        data: [\r\n            0, 20, 40, 58, 62, 50, 35, 55, 60, 70, 75, 65, 50, 40, 50, 70, 80, 95, 80, 60, 55, 70, 90, 70\r\n        ],\r\n        type: 'line',\r\n        smooth: true,\r\n        symbol: 'none',\r\n        name: '小车2'\r\n        // 对准右侧y轴\r\n        // yAxisIndex: 1\r\n    }\r\n])\r\n\r\nconst data = reactive({\r\n    options: {\r\n        // 图例设置\r\n        // legend: {},\r\n        // 在canvas中占据的大小\r\n        grid: {\r\n            left: '0%',\r\n            right: '0%',\r\n            top: '15%',\r\n            bottom: '3%',\r\n            containLabel: true\r\n        },\r\n        // 辅助线提示\r\n        // tooltip: {\r\n        //   trigger: 'axis'\r\n        // },\r\n        xAxis: {\r\n            type: 'category',\r\n            data: [\r\n                '2022-08-10 01:00:00',\r\n                '2022-08-10 02:00:00',\r\n                '2022-08-10 03:00:00',\r\n                '2022-08-10 04:00:00',\r\n                '2022-08-10 05:00:00',\r\n                '2022-08-10 06:00:00',\r\n                '2022-08-10 07:00:00',\r\n                '2022-08-10 08:00:00',\r\n                '2022-08-10 09:00:00',\r\n                '2022-08-10 10:00:00',\r\n                '2022-08-10 11:00:00',\r\n                '2022-08-10 12:00:00',\r\n                '2022-08-10 13:00:00',\r\n                '2022-08-10 14:00:00',\r\n                '2022-08-10 15:00:00',\r\n                '2022-08-10 16:00:00',\r\n                '2022-08-10 17:00:00',\r\n                '2022-08-10 18:00:00',\r\n                '2022-08-10 19:00:00',\r\n                '2022-08-10 20:00:00',\r\n                '2022-08-10 21:00:00',\r\n                '2022-08-10 22:00:00',\r\n                '2022-08-10 23:00:00',\r\n                '2022-08-10 00:00:00'\r\n            ],\r\n            axisLabel: {\r\n                // 坐标轴刻度标签的相关设置\r\n                show: true, // 控制显隐\r\n                color: '#E4E9EB', // x轴字体颜色\r\n                fontSize: nowSize(17), //\r\n                margin: nowSize(15), // x轴标签距离x轴距离\r\n                formatter: (value) => {\r\n                    return dayjs(new Date(value)).format('HH:mm')\r\n                }\r\n            },\r\n            // x轴样式设置\r\n            axisLine: {\r\n                lineStyle: {\r\n                    color: '#E4E9EB',\r\n                    width: nowSize(2)\r\n                }\r\n            },\r\n            // x轴刻度线显隐\r\n            axisTick: {\r\n                show: false\r\n            }\r\n        },\r\n        yAxis: [\r\n            // 左侧y轴\r\n            {\r\n                type: 'value',\r\n                name: '米/秒',\r\n                // 名称位置\r\n                nameLocation: 'end',\r\n                // 名称间隔\r\n                nameGap: nowSize(20),\r\n                // y轴名称样式设置\r\n                nameTextStyle: {\r\n                    color: '#E4E9EB',\r\n                    fontSize: nowSize(15),\r\n                    padding: nowSize([0, 50, 0, 0])\r\n                },\r\n                axisLabel: {\r\n                    // 坐标轴刻度标签的相关设置\r\n                    show: true, // 控制显隐\r\n                    color: '#E4E9EB', // y轴字体颜色\r\n                    fontSize: nowSize(17),\r\n                    margin: nowSize(15)\r\n                },\r\n                // y轴分割线样式设置\r\n                splitLine: {\r\n                    show: true,\r\n                    lineStyle: {\r\n                        width: nowSize(2),\r\n                        color: 'rgba(228, 233, 235, 0.1)'\r\n                    }\r\n                }\r\n            },\r\n            // 右侧y轴\r\n            {\r\n                type: 'value',\r\n                name: 'hz',\r\n                // min: 0,\r\n                // max: 100,\r\n                // 名称位置\r\n                nameLocation: 'end',\r\n                // 名称间隔\r\n                nameGap: nowSize(20),\r\n                // y轴名称样式设置\r\n                nameTextStyle: {\r\n                    color: '#E4E9EB',\r\n                    fontSize: nowSize(17),\r\n                    padding: nowSize([0, 0, 0, 50])\r\n                },\r\n                axisLabel: {\r\n                    // 坐标轴刻度标签的相关设置\r\n                    show: true, // 控制显隐\r\n                    color: '#E4E9EB', // y轴字体颜色\r\n                    fontSize: nowSize(17),\r\n                    margin: nowSize(15)\r\n                },\r\n                // y轴分割线样式设置\r\n                splitLine: {\r\n                    show: true,\r\n                    lineStyle: {\r\n                        width: nowSize(2),\r\n                        color: 'rgba(228, 233, 235, 0.1)'\r\n                    }\r\n                }\r\n            }\r\n        ],\r\n        // 相关数据\r\n        series: time.value\r\n    }\r\n})\r\n\r\n// 初始化折线图\r\nconst initChart = () => {\r\n    setTimeout(() => {\r\n        myChart = echarts.init(document.getElementById('vehicle2'))\r\n        myChart.setOption(data.options)\r\n    }, 2000)\r\n\r\n}\r\n// 监听更改折线图y轴有关数据\r\nconst changeyAxis = () => {\r\n    data.options.yAxis[0].axisLabel.fontSize = nowSize(17)\r\n    data.options.yAxis[1].axisLabel.fontSize = nowSize(17)\r\n    data.options.yAxis[0].axisLabel.margin = nowSize(15)\r\n    data.options.yAxis[1].axisLabel.margin = nowSize(15)\r\n    data.options.yAxis[0].nameTextStyle.fontSize = nowSize(15)\r\n    data.options.yAxis[1].nameTextStyle.fontSize = nowSize(17)\r\n    data.options.yAxis[0].nameTextStyle.padding = nowSize([0, 50, 0, 0])\r\n    data.options.yAxis[1].nameTextStyle.padding = nowSize([0, 0, 0, 50])\r\n    data.options.yAxis[0].nameGap = nowSize(20)\r\n    data.options.yAxis[1].nameGap = nowSize(20)\r\n    data.options.yAxis[0].splitLine.lineStyle.width = nowSize(2)\r\n    data.options.yAxis[1].splitLine.lineStyle.width = nowSize(2)\r\n}\r\n// 监听更改折线图x轴有关数据\r\nconst changexAxis = () => {\r\n    data.options.xAxis.axisLabel.fontSize = nowSize(17)\r\n    data.options.xAxis.axisLabel.margin = nowSize(15)\r\n    data.options.xAxis.axisLine.lineStyle.width = nowSize(2)\r\n}\r\n\r\nonMounted(() => {\r\n    getListData(time.value)\r\n    nextTick(() => {\r\n        initChart()\r\n    })\r\n    // initChart()\r\n})\r\nwindow.onresize = (ec) => {\r\n    // 监听窗口大小变化\r\n    // myChart.resize() // 自适应大小变化\r\n    // console.log('111111')\r\n    changeyAxis()\r\n    changexAxis()\r\n    myChart.setOption(data.options)\r\n    myChart.resize() // 自适应大小变化\r\n    if (ec) return\r\n}\r\n</script>\r\n\r\n<style>\r\n.vehicle_echarts {\r\n    width: 92vw;\r\n    height: 28vh;\r\n    /* background-color: blanchedalmond; */\r\n    opacity: 0.7;\r\n    font-size: 1.3vw;\r\n}\r\n\r\n.vehicle_echarts1 {\r\n    width: 65vw;\r\n    height: 35vh;\r\n    /* background-color: blanchedalmond; */\r\n    opacity: 0.7;\r\n    font-size: 1.3vw;\r\n}\r\n\r\n#vehicle2 {\r\n    width: 100%;\r\n    /* height: 100%; */\r\n    height: inherit;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}